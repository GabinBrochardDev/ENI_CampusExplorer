{% extends 'base.html.twig' %}

{% block title %}Importer des participants{% endblock %}

{% block body %}

    <h1 class="text-3xl font-bold mb-6 text-center text-gray-800 my-12">Importer des participants</h1>

    <!-- Conteneur de formulaire avec espacement avant le footer -->
    <div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg mb-24 space-y-6">

        {{ form_start(form, { 'attr': { 'class': 'space-y-6' } }) }}
        
            <!-- Sélection de fichier CSV -->
            <div class="mb-6">
                {{ form_widget(form.csv_file,  { 'attr': { 
                    'class': 'w-full p-3 rounded-md border border-gray-300 focus:border-[#2C2C2C] focus:ring focus:ring-[#2C2C2C] transition duration-300', 
                    'placeholder': 'Sélectionner un fichier CSV' 
                } }) }}
            </div>

            <!-- Case à cocher stylisée -->
            <div class="mb-6">
                <label class="flex items-center w-full p-3 rounded-md border border-gray-300 focus-within:border-[#2C2C2C] focus-within:ring focus-within:ring-[#2C2C2C] transition duration-300">
                    {{ form_widget(form.has_header, { 'attr': { 'class': 'form-checkbox h-5 w-5 text-[#2C2C2C] rounded focus:ring-[#2C2C2C]' } }) }}
                    <span class="ml-2 text-gray-800">Le fichier CSV contient une ligne d'en-tête</span>
                </label>
            </div>

            <!-- Bouton d'importation -->
            <div class="text-center">
                <button type="submit" class="w-2/3 bg-[#2C2C2C] text-white px-6 py-3 rounded-md shadow-md hover:bg-gray-800 focus:outline-none focus:ring focus:ring-gray-300 transition duration-300">
                    Importer
                </button>
            </div>
            
        {{ form_end(form) }}

        <!-- Affichage des messages de succès -->
        {% for message in app.flashes('success') %}
           <div class="alert alert-success mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                {{ message }}
            </div>
        {% endfor %}
        
        <!-- Affichage des messages d'erreur -->
        {% for message in app.flashes('error') %}
             <div class="alert alert-danger mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    </div>
{% endblock %}
